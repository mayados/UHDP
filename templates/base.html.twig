<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Welcome!{% endblock %}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text></svg>">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        {# Run `composer require symfony/webpack-encore-bundle` to start using Symfony UX #}
        {% block stylesheets %}
            <link rel="stylesheet" href="{{ asset('css/base.css') }}">
        {% endblock %}

        {% block javascripts %}
        {# Ajouter defer pour éviter que le script ne s'éxecute avant le chargement du document #}
         <script src="{{ asset('js/script.js')}}" type='module' defer></script>
        {% endblock %}
    </head>
    <body>
        <header id="header-main">
            {% if app.session.flashBag.has('success') %}
                {% for msg in app.flashes('success') %}        
                    <div class="alert-success">
                        {{ msg }}
                    </div>
                {% endfor %}             
            {% endif %}
            {% if app.session.flashBag.has('notice') %}
                {% for msg in app.flashes('notice') %}        
                    <div class="alert-notice">
                        {{ msg }}
                    </div>
                {% endfor %}             
            {% endif %}
            {% if app.session.flashBag.has('warning') %}
                {% for msg in app.flashes('warning') %}        
                    <div class="alert-warning">
                        {{ msg }}
                    </div>
                {% endfor %}             
            {% endif %}
            <nav>
                <ul id="nav-menu">
                    <li>
                        <a href="{{ path('app_home') }}">Accueil</a>
                        <i class="fa-solid fa-paw"></i>
                    </li>
                    <li>
                        <a href="{{ path('app_memoriaux') }}">Memoriaux</a>
                        <i class="fa-solid fa-paw"></i>
                    </li>
                    <li>
                        <a href="{{ path('app_belles_histoires') }}">Belles histoires</a>
                        <i class="fa-solid fa-paw"></i>
                    </li>
                    <li>
                        <a href="{{ path('app_mot_commemoration') }}">Commémoration</a>
                        <i class="fa-solid fa-paw"></i>
                    </li>
                    <li>
                        <a href="{{ path('app_forum') }}">Forum</a>
                        <i class="fa-solid fa-paw"></i>
                    </li>
                    <li>
                        <a href="#">A propos</a>
                        <i class="fa-solid fa-paw"></i>
                    </li>
                    {% if app.user and is_granted("ROLE_ADMIN") %}
                        <li>
                            <a href="{{ path('app_admin') }}">Administration</a>
                        </li>
                        <li>
                            <a href="{{ path('app_admin_categories') }}">Catégories</a>
                        </li>
                    {% endif %}                      
                    {% if app.user %}                        
                        <li>
                            <a href="{{ path('app_messagerie') }}"><i class="fa-solid fa-envelope"></i></a>
                            <i class="fa-solid fa-paw"></i>
                        </li>
                        <li>
                            <a href="{{ path('my_profile') }}"><i class="fa-solid fa-user"></i></a>
                            <i class="fa-solid fa-paw"></i>
                        </li>
                        <li>
                            <a href="{{ path('app_logout') }}"><i class="fa-solid fa-right-from-bracket"></i></a>
                            <i class="fa-solid fa-paw"></i>
                        </li>
                    {% elseif not app.user %}
                        <li>
                            <a href="{{ path('app_login') }}">Connexion</a>
                            <i class="fa-solid fa-paw"></i>
                        </li>
                    {% endif %}
                </ul>
            </nav>
        </header>
            {% block body %}
            {% endblock %}            
        <footer>
            {# <ul>
                <li>CGU</li>
                <li>Mentions légales</li>
                <li>Site mapping</li>
                <li>Nous contacter (créer formulaire de contact, même non fonctionnel)</li>
                <li>Liens internes (à insérer)</li>
                <li>Liens externes (réseaux sociaux)</li>
            </ul> #}
        </footer>
    </body>
</html>
